(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),l=a.n(o),c=a(34),i=a(20),s=a(21),u=a(24),d=a(22),m=a(151),p=a(12),b=a.n(p),E=a(18),h=a(39),v=a.n(h),f=function(e){console.log(e);try{return{error:e.response.data.error,message:e.response.data.description}}catch(t){return{error:"Unexpected error",message:"please try again later"}}},g=a(29),O=a(75),C=a(37),F=a.n(C),j=a(4),x=a(152),y=a(144),D=a(145),S=a(146),k=a(153),w=a(70),B=a.n(w).a.create({baseURL:"".concat("http://localhost:8080","/api")}),A=function(e){return B.post("/users",e)},U=function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_USERS"}),e.prev=1,e.next=4,B.get("/users");case 4:return a=e.sent,r=a.data,e.abrupt("return",t({type:"GET_USERS_SUCCEED",data:r?r.data:null}));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t({type:"GET_USERS_FAILED"}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},N=function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLOSE_MODAL"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=Object(j.a)({root:{"& input:valid + fieldset":{borderColor:"green",borderWidth:2},"& input:invalid + fieldset":{borderColor:"red",borderWidth:2},"& input:valid:focus + fieldset":{padding:"4px !important"}}})(x.a),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).schema={email:F.a.string().required().email().label("email"),name:F.a.string().optional().required().label("name"),surname:F.a.string().optional().required().label("surname")},r.validate=function(){var e=r.state,t=e.name,a=e.surname,n=e.email,o=F.a.validate({name:t,surname:a,email:n},r.schema,{abortEarly:!1}).error;if(!o)return null;var l,c={},i=Object(O.a)(o.details);try{for(i.s();!(l=i.n()).done;){var s=l.value;c[s.path[0]]=s.message}}catch(u){i.e(u)}finally{i.f()}return c},r.validateProperty=function(e){var t=e.name,a=e.value,n=Object(g.a)({},t,a),o=Object(g.a)({},t,r.schema[t]),l=F.a.validate(n,o).error;return l?l.details[0].message:null},r.onChangeHandler=function(e){var t,a=e.currentTarget,n=r.validateProperty(a);r.setState((t={},Object(g.a)(t,a.name,a.value),Object(g.a)(t,"".concat(a.name,"Error"),n),Object(g.a)(t,a.name+"Validation",!n),t))},r.handleSubmit=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n,o,l,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!r.validate()){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,a=r.state,n=a.name,o=a.surname,l=a.email,e.next=10,r.props.addUser({name:n,surname:o,email:l});case 10:return e.next=12,r.props.closeModal();case 12:v()({title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!",icon:"success",button:!1,timer:2e3}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),c=f(e.t0),v()({title:c.error,text:c.message,icon:"error"});case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t){return e.apply(this,arguments)}}(),r.state={name:null,surname:null,email:null,nameError:null,surnameError:null,emailError:null},r}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,r=a.nameError,o=a.surnameError,l=a.emailError;return n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a,{id:"form-dialog-title"},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),n.a.createElement(D.a,null,n.a.createElement("div",null,n.a.createElement(_,{name:"name",className:t.textField,label:"\u0418\u043c\u044f",variant:"outlined",id:"validation-outlined-input",onChange:function(t){return e.onChangeHandler(t)},error:!!r,required:!0}),n.a.createElement("div",{className:t.errorHelperText},r)),n.a.createElement("div",null,n.a.createElement(_,{name:"surname",className:t.textField,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",variant:"outlined",id:"validation-outlined-input",onChange:function(t){return e.onChangeHandler(t)},error:!!o,required:!0}),n.a.createElement("div",{className:t.errorHelperText},o)),n.a.createElement("div",null,n.a.createElement(_,{name:"email",className:t.textField,label:"E-mail",variant:"outlined",id:"validation-outlined-input",onChange:function(t){return e.onChangeHandler(t)},error:!!l,required:!0}),n.a.createElement("div",{className:t.errorHelperText},l))),n.a.createElement(S.a,null,n.a.createElement(k.a,{onClick:this.handleSubmit,className:t.button,variant:"contained",color:"primary",disableElevation:!0},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")))}}]),a}(r.Component),M=Object(c.b)((function(e){return{error:e.users.error}}),{addUser:function(e){return function(){var t=Object(E.a)(b.a.mark((function t(a){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e);case 3:return t.abrupt("return",a(U()));case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},closeModal:N})(Object(j.a)((function(e){return{textField:{margin:e.spacing(1)},button:{margin:"0 auto"},errorHelperText:{color:"red"}}}))(T)),L=a(147),H=a(148),R=a(43),G=a(149),q=a(156),I=a(155),P=a(150),W=["#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],z=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.getAllUsers();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),t=f(e.t0),v()({title:t.error,text:t.message,icon:"error"});case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.modalState,r=e.users,o=e.openModal,l=e.closeModal,c=e.isLoading,i=r.length?r.map((function(e,a){var r,o=e.name,l=e.surname,c=e.email;return n.a.createElement(L.a,{item:!0,xs:4},n.a.createElement(H.a,{className:t.card},n.a.createElement(L.a,{container:!0},n.a.createElement(L.a,{item:!0,xs:3},n.a.createElement(R.a,{component:"div",className:t.number},"#",a+1)),n.a.createElement(L.a,{item:!0,xs:9},n.a.createElement(G.a,{avatar:n.a.createElement(q.a,{"aria-label":"recipe",className:t.avatar,style:{backgroundColor:(r=a,W[r])}},o[0].toUpperCase()+l[0].toUpperCase()),title:o+" "+l,subheader:c})))))})):null;return n.a.createElement("div",{className:t.root},c?n.a.createElement(P.a,{className:t.spinner}):n.a.createElement(n.a.Fragment,null,n.a.createElement(L.a,{container:!0,spacing:3},i,n.a.createElement(L.a,{item:!0,xs:4},n.a.createElement(H.a,{className:t.addCard},n.a.createElement(k.a,{className:t.plus,onClick:o},"+")))),n.a.createElement(I.a,{open:a,onClose:l},n.a.createElement(M,null))))}}]),a}(r.Component),J=Object(c.b)((function(e){var t=e.users,a=e.modal;return{users:t.data,isLoading:t.loading,error:t.error,modalState:a.modalState}}),{getAllUsers:U,openModal:function(){return function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"OPEN_MODAL"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},closeModal:N})(Object(j.a)((function(e){return{root:{flexGrow:1},avatar:{width:e.spacing(7),height:e.spacing(7)},card:{height:e.spacing(12),textAlign:"left",boxShadow:"0px 3px 3px #DCDCDC",marginTop:e.spacing(7)},addCard:{height:e.spacing(12),marginTop:e.spacing(7),boxShadow:"none",backgroundColor:"transparent",border:"dashed",borderWidth:"3px",borderColor:"#D3D3D3",display:"flex",alignItems:"center",justifyContent:"center"},plus:{fontSize:"350%",color:"#D3D3D3","&:hover":{color:"#6B8E23",backgroundColor:"transparent"}},text:{display:"inline-block"},number:{backgroundColor:"#F8F8F8",height:"100vh",fontSize:"xx-large",padding:"15%",opacity:"70%",fontWeight:"bold",color:"#D3D3D3"},spinner:{marginTop:"10%"}}}))(z)),V=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={users:[],openModal:!1},r}return Object(s.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement("div",null,"BOOM!"):this.props.children}}]),a}(r.Component),K=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(V,null,n.a.createElement("div",{style:{backgroundColor:"#F0F0F0",top:0,left:0,width:"100%",height:"100%"}},n.a.createElement(m.a,null,n.a.createElement(J,null))))}}]),a}(r.Component),Q=a(26),X=a(74),Y=a(16),Z={data:[],status:"",loading:!1,error:!1};var $,ee=Object(Q.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(Y.a)(Object(Y.a)({},e),{},{users:[],loading:!0,error:!1});case"GET_USERS_SUCCEED":return Object(Y.a)(Object(Y.a)({},e),{},{data:t.data,loading:!1,error:!1});case"GET_USERS_FAILED":return Object(Y.a)(Object(Y.a)({},e),{},{loading:!1,error:!0});case"ADD_USER":return Object(Y.a)({},e);default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return Object(Y.a)(Object(Y.a)({},e),{},{modalState:!0,type:t.type});case"CLOSE_MODAL":return Object(Y.a)(Object(Y.a)({},e),{},{modalState:!1,type:t.type});default:return e}}}),te=Q.d,ae=($={},Object(Q.e)(ee,$,te(Object(Q.a)(X.a))));l.a.render(n.a.createElement(c.a,{store:ae},n.a.createElement(K,null)),document.getElementById("root"))},84:function(e,t,a){e.exports=a(111)}},[[84,1,2]]]);
//# sourceMappingURL=main.3637d6a7.chunk.js.map